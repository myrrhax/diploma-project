databaseChangeLog:
  - changeSet:
      id: 100126_drop_board_table
      author: Denis Sizintsev
      changes:
          - dropColumn:
              tableName: t_authorities
              columns:
                - column:
                    name: board_id

          - addColumn:
              tableName: t_authorities
              columns:
                - column:
                    name: scheme_id
                    type: int
                    constraints:
                      nullable: false

          - addForeignKeyConstraint:
              baseTableName: t_authorities
              baseColumnNames: scheme_id
              referencedTableName: t_schemes
              referencedColumnNames: id
              constraintName: fk_authorities_schemes

          - addUniqueConstraint:
              tableName: t_authorities
              columnNames: scheme_id, user_id
              constraintName: uq_scheme_id_user_id

          - dropTable:
              tableName: t_boards
              cascadeConstraints: true